<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./style.css">
    <script src="./js/bootstrap.bundle.min.js"></script>
    <meta charset="UTF-8">
    <title>Andrew Munro</title>
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P6M7TC28S8"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-P6M7TC28S8');
</script>
<body>
<div class="d-flex flex-column justify-content-center text-center align-items-center"
     style="min-height: 100vh; margin-top:-3em">
    <img id="avatar" src="./Avatar.png" alt="Andrew Munro's Avatar"/>
    <h1 class="text-light">Andrew Munro</h1>
    <h4 class="fst-italic text-white-50 fw-light">Software, networks, and why they suck.</h4>
    <div class="d-inline-flex " style="margin-top:3rem">
        <a href="https://notes.andrewmunro.me">
            <div class="card bg-dark text-light me-3" style="width: 25rem;">
                <div class="card-body">
                    <h5 class="card-title">My Notes</h5>
                    <p class="card-text">My personal and professional notes.</p>
                </div>
            </div>
        </a>
        <a href="javascript:showContactModal()">
            <div class="card bg-dark text-light" style="width: 25rem;">
                <div class="card-body">
                    <h5 class="card-title">Contact Me</h5>
                    <p class="card-text">The complaint department is a garbage can.</p>
                </div>
            </div>
        </a>
    </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <form class="form" action="https://formsubmit.co/26be25b2f239e56d5b9806d9a9bdbf18" method="POST">
            <input type="hidden" name="_next" value="https://www.andrewmunro.me/index.html#thanks">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Contact Me</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="name" name="name" placeholder="Name"/>
                        <label for="name">Name</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="email" class="form-control" name="email" id="email" placeholder="Email">
                        <label for="email">Email</label>
                    </div>
                    <div class="form-floating">
                        <textarea class="form-control" placeholder="Message" name="message" id="message"
                                  style="height: 100px"></textarea>
                        <label for="message">Message</label>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Send it</button>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="modal fade " id="thanksModal" tabindex="-1" aria-labelledby="thanksModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <input type="hidden" name="_next" value="https://www.andrewmunro.me/index.html#thanks">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="thanksModalLabel">Thank you!</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>
                    Thanks for reaching out! I'll try to get back as soon as I can.
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    let url = window.location.href;
    function showContactModal() {
        var myModal = new bootstrap.Modal(document.getElementById('exampleModal'), {
            keyboard: false
        })
        myModal.show()
    }
    document.addEventListener("DOMContentLoaded", function () {

        if (url.includes("#thanks")) {
            var myModal = new bootstrap.Modal(document.getElementById('thanksModal'), {
                keyboard: false
            })
            myModal.show()
        }
    });
</script>
</body>
</html>